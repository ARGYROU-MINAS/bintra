stages:
  - build
  - test
  - report
  - analyze
  - deploy

include:
  - template: Security/SAST.gitlab-ci.yml
  - local: 'workflows/empty.yml'

  - project: 'kgroup/dependabot-standalone'
    file: '.gitlab-ci.yml'

  - local: 'workflows/docker.yml'
    rules:
      - if: '$DODOCKER == "yes"'

  - local: 'workflows/compile.yml'
    rules:
      - if: '$CI_PIPELINE_SOURCE == "push" && $CI_COMMIT_TAG == null'

  - local: 'workflows/merge.yml'
    rules:
      - if: '$CI_PIPELINE_SOURCE == "merge_request_event"'

  - local: 'workflows/publish.yml'
    rules:
      - if: '$CI_PIPELINE_SOURCE == "push" && $CI_COMMIT_TAG != null'
